# ğŸ¼ BabyPolicy - AIìœ¡ì•„ì •ì±… ë„ìš°ë¯¸

> ìœ¡ì•„ ì •ì±…ì„ ì‰½ê³  ë¹ ë¥´ê²Œ ì°¾ì•„ì£¼ëŠ” AI ì±—ë´‡ ì„œë¹„ìŠ¤

[![Next.js](https://img.shields.io/badge/Next.js-15.5-black?logo=next.js)](https://nextjs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-009688?logo=fastapi)](https://fastapi.tiangolo.com/)
[![Supabase](https://img.shields.io/badge/Supabase-PostgreSQL-3ECF8E?logo=supabase)](https://supabase.com/)
[![OpenAI](https://img.shields.io/badge/OpenAI-GPT-412991?logo=openai)](https://openai.com/)

## ğŸ“‹ ëª©ì°¨
- [ê¸°ëŠ¥ ì†Œê°œ](#-features)
- [ê¸°ìˆ  ìŠ¤íƒ](#ï¸-tech-stack)
- [ì´ˆë³´ìë¥¼ ìœ„í•œ ì„¤ì¹˜ ê°€ì´ë“œ](#-ì´ˆë³´ìë¥¼-ìœ„í•œ-ì„¤ì¹˜-ê°€ì´ë“œ)
- [íŒŒì¼ë³„ ê¸°ëŠ¥ ì„¤ëª…](#-íŒŒì¼ë³„-ê¸°ëŠ¥-ì„¤ëª…-ì–´ë””ë¥¼-ìˆ˜ì •í•˜ë©´-ë ê¹Œìš”)
- [API ì—”ë“œí¬ì¸íŠ¸](#-api-endpoints)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-project-structure)
- [ë¬¸ì œ í•´ê²°](#-ìì£¼-ë°œìƒí•˜ëŠ”-ë¬¸ì œì™€-í•´ê²°-ë°©ë²•)

---

## ğŸŒŸ Features

- ğŸ¤– **AI ì±—ë´‡** - GPT ê¸°ë°˜ RAGë¡œ ì •í™•í•œ ì •ì±… ì •ë³´ ì œê³µ
- ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ **ì»¤ë®¤ë‹ˆí‹°** - ìœ¡ì•„ ê²½í—˜ ê³µìœ  ë° ì†Œí†µ
- ğŸ“‹ **ì •ì±… ê²€ìƒ‰** - ì§€ì—­, ì†Œë“, ê°€ì¡± êµ¬ì„±ë³„ ë§ì¶¤ ì •ì±…
- ğŸ’¬ **ì‹¤ì‹œê°„ ëŒ€í™”** - ìì—°ì–´ë¡œ í¸í•˜ê²Œ ì§ˆë¬¸
- ğŸ¨ **Baby-Friendly UI** - ê·€ì—½ê³  í¸ì•ˆí•œ ë””ìì¸

---

## ğŸ—ï¸ Tech Stack

### Frontend
- **Next.js 15.5** - React í”„ë ˆì„ì›Œí¬
- **TypeScript** - íƒ€ì… ì•ˆì •ì„±
- **Tailwind CSS** - ìŠ¤íƒ€ì¼ë§
- **Lucide Icons** - ì•„ì´ì½˜

### Backend
- **FastAPI** - ê³ ì„±ëŠ¥ Python ì›¹ í”„ë ˆì„ì›Œí¬
- **Supabase Client** - PostgreSQL + ì‹¤ì‹œê°„ DB
- **OpenAI API** - GPT-4 ê¸°ë°˜ RAG
- **pgvector** - ë²¡í„° ê²€ìƒ‰

### Database
- **Supabase (PostgreSQL)** - ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤
- **pgvector Extension** - ë²¡í„° ì„ë² ë”© ì €ì¥

---

## ğŸš€ ì´ˆë³´ìë¥¼ ìœ„í•œ ì„¤ì¹˜ ê°€ì´ë“œ

### ì‚¬ì „ ì¤€ë¹„ë¬¼

ë‹¤ìŒ í”„ë¡œê·¸ë¨ë“¤ì„ ë¨¼ì € ì„¤ì¹˜í•´ì£¼ì„¸ìš”:

1. **Python 3.13 ì´ìƒ**
   - ë‹¤ìš´ë¡œë“œ: https://www.python.org/downloads/
   - ì„¤ì¹˜ ì‹œ "Add Python to PATH" ì²´í¬ í•„ìˆ˜!

2. **Node.js 18 ì´ìƒ**
   - ë‹¤ìš´ë¡œë“œ: https://nodejs.org/
   - LTS ë²„ì „ ì„¤ì¹˜ ê¶Œì¥

3. **Git**
   - ë‹¤ìš´ë¡œë“œ: https://git-scm.com/downloads

4. **VS Code** (ì½”ë“œ ì—ë””í„°, ì„ íƒì‚¬í•­)
   - ë‹¤ìš´ë¡œë“œ: https://code.visualstudio.com/

5. **Supabase ê³„ì •**
   - íšŒì›ê°€ì…: https://supabase.com/
   - ë¬´ë£Œ ê³„ì •ìœ¼ë¡œ ì‹œì‘ ê°€ëŠ¥

6. **OpenAI API Key**
   - ë°œê¸‰: https://platform.openai.com/api-keys
   - ê²°ì œ ìˆ˜ë‹¨ ë“±ë¡ í•„ìš” (ì‚¬ìš©í•œ ë§Œí¼ë§Œ ê³¼ê¸ˆ)

---

### Step 1: í”„ë¡œì íŠ¸ ë‹¤ìš´ë¡œë“œ

í„°ë¯¸ë„(Mac/Linux) ë˜ëŠ” ëª…ë ¹ í”„ë¡¬í”„íŠ¸(Windows)ë¥¼ ì—´ê³  ë‹¤ìŒì„ ì…ë ¥í•˜ì„¸ìš”:

```bash
# í”„ë¡œì íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•  í´ë”ë¡œ ì´ë™ (ì˜ˆ: ë°”íƒ•í™”ë©´)
cd Desktop

# í”„ë¡œì íŠ¸ ë³µì‚¬
git clone https://github.com/sangwon0707/babypolicy.git

# í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
cd babypolicy
```

---

### Step 2: ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • (Supabase)

1. **Supabase ëŒ€ì‹œë³´ë“œ ì ‘ì†**
   - https://supabase.com/dashboard ë¡œ ì´ë™
   - ìƒˆ í”„ë¡œì íŠ¸ ë§Œë“¤ê¸° (Create new project)

2. **ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •**
   - í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ì…ë ¥í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ê¼­ ê¸°ì–µí•˜ì„¸ìš”!

3. **SQL ì—ë””í„°ì—ì„œ í…Œì´ë¸” ìƒì„±**
   - ì™¼ìª½ ë©”ë‰´ì—ì„œ `SQL Editor` í´ë¦­
   - `New query` í´ë¦­
   - `backend/init_supabase.sql` íŒŒì¼ì˜ ë‚´ìš©ì„ ì „ì²´ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê¸°
   - `Run` ë²„íŠ¼ í´ë¦­

4. **API í‚¤ ë³µì‚¬**
   - ì™¼ìª½ ë©”ë‰´ì—ì„œ `Settings` > `API` í´ë¦­
   - ë‹¤ìŒ ê°’ë“¤ì„ ë©”ëª¨ì¥ì— ë³µì‚¬í•´ë‘ê¸°:
     - `Project URL` (ì˜ˆ: https://xxx.supabase.co)
     - `anon public` í‚¤
     - `service_role secret` í‚¤ (Show ë²„íŠ¼ í´ë¦­í•´ì•¼ ë³´ì„)

---

### Step 3: ë°±ì—”ë“œ í™˜ê²½ ì„¤ì •

í„°ë¯¸ë„ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ **í•œ ì¤„ì”©** ì…ë ¥í•˜ì„¸ìš”:

```bash
# ë°±ì—”ë“œ í´ë”ë¡œ ì´ë™
cd backend

# ê°€ìƒí™˜ê²½ ìƒì„± (ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰)
python -m venv venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# Mac/Linux:
source venv/bin/activate
# Windows:
venv\Scripts\activate

# í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ë³µì‚¬
cp .env.example .env
```

**ì¤‘ìš”!** ì´ì œ `.env` íŒŒì¼ì„ í…ìŠ¤íŠ¸ ì—ë””í„°ë¡œ ì—´ì–´ì„œ ë‹¤ìŒ ê°’ë“¤ì„ ì…ë ¥í•˜ì„¸ìš”:

```bash
# backend/.env íŒŒì¼ ë‚´ìš©

# OpenAI API Key (https://platform.openai.com/api-keys ì—ì„œ ë°œê¸‰)
OPENAI_API_KEY="sk-proj-ì—¬ê¸°ì—_ì‹¤ì œ_í‚¤_ì…ë ¥"

# Supabase ì •ë³´ (Supabase Dashboard > Settings > API ì—ì„œ ë³µì‚¬)
SUPABASE_URL="https://ì—¬ê¸°ì—_í”„ë¡œì íŠ¸_URL_ì…ë ¥.supabase.co"
SUPABASE_ANON_KEY="ì—¬ê¸°ì—_anon_í‚¤_ì…ë ¥"
SUPABASE_SERVICE_ROLE_KEY="ì—¬ê¸°ì—_service_role_í‚¤_ì…ë ¥"

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° (Supabase Dashboard > Settings > Database > Connection String)
DATABASE_URL="postgresql://postgres.xxx:[ë¹„ë°€ë²ˆí˜¸]@xxx.supabase.com:6543/postgres"

# JWT ë¹„ë°€í‚¤ (ì•„ë¬´ ê¸´ ë¬¸ìì—´ì´ë‚˜ ì…ë ¥í•˜ì„¸ìš”, ì˜ˆ: asdfghjkl1234567890)
SECRET_KEY="ì—¬ê¸°ì—_ëœë¤í•œ_ê¸´_ë¬¸ìì—´_ì…ë ¥"

# í”„ë¡ íŠ¸ì—”ë“œ ì£¼ì†Œ (ê·¸ëŒ€ë¡œ ë‘ì„¸ìš”)
FRONTEND_URL="http://localhost:3000"
```

ì €ì¥í•˜ê³  ë‹«ê¸°!

---

### Step 4: ë°±ì—”ë“œ ì‹¤í–‰

ê°™ì€ í„°ë¯¸ë„ì—ì„œ ê³„ì†:

```bash
# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰, ì‹œê°„ ì¢€ ê±¸ë¦¼)
pip install -r requirements.txt

# ì„œë²„ ì‹¤í–‰!
python -m uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

âœ… **ì„±ê³µí•˜ë©´** ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
```

ì´ í„°ë¯¸ë„ ì°½ì€ **ê·¸ëƒ¥ ë‘ì„¸ìš”** (ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤!)

ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:8000/docs ë¥¼ ì—´ì–´ë³´ì„¸ìš”. API ë¬¸ì„œê°€ ë³´ì´ë©´ ì„±ê³µ!

---

### Step 5: í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ì„¤ì •

**ìƒˆ í„°ë¯¸ë„ ì°½**ì„ í•˜ë‚˜ ë” ì—´ê³ :

```bash
# í”„ë¡œì íŠ¸ í´ë”ë¡œ ì´ë™
cd Desktop/babypolicy

# í”„ë¡ íŠ¸ì—”ë“œ í´ë”ë¡œ ì´ë™
cd frontend

# í™˜ê²½ë³€ìˆ˜ íŒŒì¼ ë³µì‚¬
cp .env.local.example .env.local
```

`.env.local` íŒŒì¼ì„ ì—´ì–´ë³´ì„¸ìš”. ê¸°ë³¸ê°’ì´ ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```bash
# frontend/.env.local íŒŒì¼ ë‚´ìš©
NEXT_PUBLIC_API_URL=http://localhost:8000/api
```

ê·¸ëŒ€ë¡œ ë‘ê³  ì €ì¥!

---

### Step 6: í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

ê°™ì€ í„°ë¯¸ë„ì—ì„œ:

```bash
# í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰, ì‹œê°„ ì¢€ ê±¸ë¦¼)
npm install

# ê°œë°œ ì„œë²„ ì‹¤í–‰!
npm run dev
```

âœ… **ì„±ê³µí•˜ë©´** ë‹¤ìŒê³¼ ê°™ì´ í‘œì‹œë©ë‹ˆë‹¤:
```
âœ“ Ready in 2s
- Local:        http://localhost:3000
```

ë¸Œë¼ìš°ì €ì—ì„œ **http://localhost:3000** ë¥¼ ì—´ì–´ë³´ì„¸ìš”!

---

### Step 7: íšŒì›ê°€ì… & ë¡œê·¸ì¸

1. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000` ì ‘ì†
2. **íšŒì›ê°€ì…** ë²„íŠ¼ í´ë¦­
3. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ (í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ì•„ë¬´ê±°ë‚˜)
4. íšŒì›ê°€ì… ì™„ë£Œë˜ë©´ ìë™ ë¡œê·¸ì¸!

---

### Step 8: (ì„ íƒì‚¬í•­) PDF ì •ì±… ë°ì´í„° ë‹¤ìš´ë¡œë“œ

AI ì±—ë´‡ì´ ì‹¤ì œ ì •ì±… ì •ë³´ë¥¼ ë‹µë³€í•˜ë ¤ë©´ PDF ë°ì´í„°ê°€ í•„ìš”í•©ë‹ˆë‹¤.

**ìƒˆ í„°ë¯¸ë„ ì°½**ì„ ì—´ê³ :

```bash
# 1. ë³µì§€ë¡œ ì‚¬ì´íŠ¸ì—ì„œ PDF ë‹¤ìš´ë¡œë“œ (5ê°œ ì •ì±…, ì•½ 1-2ë¶„ ì†Œìš”)
curl -X POST http://localhost:8000/api/admin/run-scraper \
  -H "Content-Type: application/json" \
  -d '{"max_policies": 5, "skip_rag": true}'

# 2. PDFë¥¼ AIê°€ ì½ì„ ìˆ˜ ìˆê²Œ ì²˜ë¦¬ (ì•½ 2-3ë¶„ ì†Œìš”)
curl -X POST http://localhost:8000/api/admin/process-rag \
  -H "Content-Type: application/json" \
  -d '{}'
```

âœ… ì™„ë£Œë˜ë©´ AI ì±—ë´‡ì´ ì •ì±… ì§ˆë¬¸ì— ë‹µë³€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

---

### ğŸ‰ ì™„ë£Œ!

ì´ì œ ë‹¤ìŒ URLë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **í”„ë¡ íŠ¸ì—”ë“œ**: http://localhost:3000 (ì‚¬ìš©ìê°€ ë³´ëŠ” í™”ë©´)
- **ë°±ì—”ë“œ API ë¬¸ì„œ**: http://localhost:8000/docs (ê°œë°œììš©)
- **ë°ì´í„°ë² ì´ìŠ¤**: Supabase Dashboardì—ì„œ í™•ì¸

---

### ì„œë²„ ì¢…ë£Œ ë°©ë²•

- í„°ë¯¸ë„ì—ì„œ `Ctrl + C` ëˆ„ë¥´ê¸°

### ë‹¤ìŒì— ë‹¤ì‹œ ì‹¤í–‰í•˜ëŠ” ë°©ë²•

**ë°±ì—”ë“œ í„°ë¯¸ë„:**
```bash
cd Desktop/babypolicy/backend
source venv/bin/activate  # Windows: venv\Scripts\activate
python -m uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

**í”„ë¡ íŠ¸ì—”ë“œ í„°ë¯¸ë„:**
```bash
cd Desktop/babypolicy/frontend
npm run dev
```

---

## ğŸ“ íŒŒì¼ë³„ ê¸°ëŠ¥ ì„¤ëª… (ì–´ë””ë¥¼ ìˆ˜ì •í•˜ë©´ ë ê¹Œìš”?)

### ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ (í™”ë©´ ë””ìì¸ & ê¸°ëŠ¥)

#### **ë©”ì¸ í˜ì´ì§€ (ì²« í™”ë©´)**
- **íŒŒì¼**: `frontend/app/page.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë¡œê³ , ì œëª©, ì„¤ëª… ë¬¸êµ¬
  - ë¡œê·¸ì¸/íšŒì›ê°€ì… ë²„íŠ¼ ë””ìì¸
  - ë°°ê²½ ìƒ‰ìƒ, ì• ë‹ˆë©”ì´ì…˜
  - ë¡œê·¸ì¸ ì „/í›„ ë³´ì´ëŠ” ë‚´ìš©

#### **ë¡œê·¸ì¸ í˜ì´ì§€**
- **íŒŒì¼**: `frontend/app/(auth)/login/page.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë¡œê·¸ì¸ í¼ ë””ìì¸ (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ì°½)
  - ì—ëŸ¬ ë©”ì‹œì§€ ë¬¸êµ¬
  - "íšŒì›ê°€ì…" ë§í¬ ìœ„ì¹˜

#### **íšŒì›ê°€ì… í˜ì´ì§€**
- **íŒŒì¼**: `frontend/app/(auth)/register/page.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - íšŒì›ê°€ì… í¼ (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸/ì´ë¦„ ì…ë ¥ì°½)
  - ë¹„ë°€ë²ˆí˜¸ ìœ íš¨ì„± ê²€ì‚¬ ê·œì¹™
  - ê°€ì… ì™„ë£Œ í›„ ì´ë™ ê²½ë¡œ

#### **AI ì±—ë´‡ í˜ì´ì§€**
- **íŒŒì¼**: `frontend/app/chat/page.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ì±„íŒ…ì°½ UI (ë§í’ì„  ìƒ‰ìƒ, í¬ê¸°)
  - ë©”ì‹œì§€ ì…ë ¥ì°½ ë””ìì¸
  - AI ë‹µë³€ í‘œì‹œ ë°©ì‹
  - ì¶œì²˜ ì •ë³´ í‘œì‹œ

#### **ì»¤ë®¤ë‹ˆí‹° í˜ì´ì§€**
- **íŒŒì¼**: `frontend/app/community/page.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ê²Œì‹œê¸€ ëª©ë¡ ë ˆì´ì•„ì›ƒ
  - ì¹´í…Œê³ ë¦¬ í•„í„°
  - ê²Œì‹œê¸€ ì¹´ë“œ ë””ìì¸
  - ì¢‹ì•„ìš”/ëŒ“ê¸€ ê°œìˆ˜ í‘œì‹œ

#### **ë§ˆì´í˜ì´ì§€ (ë‚´ ì •ë³´)**
- **íŒŒì¼**: `frontend/app/me/page.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - í”„ë¡œí•„ ì •ë³´ í‘œì‹œ
  - ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ ìœ„ì¹˜
  - ì„¤ì • ë©”ë‰´ í•­ëª©
  - ë‚´ê°€ ì“´ ê¸€, ê´€ì‹¬ ì •ì±… ë§í¬

#### **í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”**
- **íŒŒì¼**: `frontend/components/BottomNav.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë©”ë‰´ ì•„ì´ì½˜ (ì±—ë´‡/ì»¤ë®¤ë‹ˆí‹°/ë§ˆì´)
  - ë©”ë‰´ ê°œìˆ˜ ì¶”ê°€/ì‚­ì œ
  - í™œì„±í™”ëœ ë©”ë‰´ ìƒ‰ìƒ
  - ë¡œê·¸ì¸ ì „/í›„ ë©”ë‰´ ë™ì‘

#### **ì¸ì¦ ë¡œì§ (ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬)**
- **íŒŒì¼**: `frontend/contexts/AuthContext.tsx`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ë™ì‘
  - í† í° ì €ì¥ ë°©ì‹
  - ìë™ ë¡œê·¸ì¸ ìœ ì§€ ì‹œê°„
  - ì‚¬ìš©ì ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°

#### **API í†µì‹  (ì„œë²„ì™€ ëŒ€í™”)**
- **íŒŒì¼**: `frontend/lib/api.ts`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë°±ì—”ë“œ ì„œë²„ ì£¼ì†Œ
  - API ìš”ì²­ í˜•ì‹ (JSON)
  - ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²•
  - í—¤ë” ì„¤ì • (ì¸ì¦ í† í°)

---

### âš™ï¸ ë°±ì—”ë“œ (ì„œë²„ & ë°ì´í„° ì²˜ë¦¬)

#### **ë©”ì¸ ì„œë²„ ì„¤ì •**
- **íŒŒì¼**: `backend/main.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - API ì—”ë“œí¬ì¸íŠ¸ ê²½ë¡œ (ë¼ìš°í„° ì—°ê²°)
  - CORS ì„¤ì • (ì–´ë–¤ ë„ë©”ì¸ì—ì„œ ì ‘ì† í—ˆìš©í• ì§€)
  - ì„œë²„ ì‹œì‘ ë©”ì‹œì§€
  - ì „ì—­ ì—ëŸ¬ ì²˜ë¦¬

#### **íšŒì›ê°€ì… & ë¡œê·¸ì¸**
- **íŒŒì¼**: `backend/routers/auth.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - íšŒì›ê°€ì… ê·œì¹™ (ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´ ë“±)
  - ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì‘ë‹µ ë°ì´í„°
  - JWT í† í° ë°œê¸‰ ë°©ì‹
  - ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬

#### **AI ì±—ë´‡ ë‹µë³€ ìƒì„±**
- **íŒŒì¼**: `backend/routers/chat.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ì‚¬ìš©ì ì§ˆë¬¸ ì²˜ë¦¬
  - AI ë‹µë³€ ìš”ì²­
  - ëŒ€í™” ê¸°ë¡ ì €ì¥ ë°©ì‹

#### **ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œê¸€**
- **íŒŒì¼**: `backend/routers/community.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ê²Œì‹œê¸€ ì‘ì„±/ì¡°íšŒ/ì‚­ì œ
  - ëŒ“ê¸€ ê¸°ëŠ¥
  - ì¢‹ì•„ìš” ê¸°ëŠ¥
  - ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
  - í˜ì´ì§€ë„¤ì´ì…˜ (í•œ í˜ì´ì§€ì— ëª‡ ê°œì”© ë³´ì—¬ì¤„ì§€)

#### **ì‚¬ìš©ì í”„ë¡œí•„**
- **íŒŒì¼**: `backend/routers/user.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë‚´ ì •ë³´ ì¡°íšŒ
  - í”„ë¡œí•„ ìˆ˜ì •
  - ê´€ì‹¬ ì •ì±… ê´€ë¦¬

#### **ê´€ë¦¬ì ê¸°ëŠ¥ (PDF ë‹¤ìš´ë¡œë“œ/RAG)**
- **íŒŒì¼**: `backend/routers/admin.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - PDF ìŠ¤í¬ë˜í•‘ ì„¤ì •
  - RAG ì²˜ë¦¬ ì‹œì‘

#### **RAG (AI í•™ìŠµ & ë‹µë³€)**
- **íŒŒì¼**: `backend/services/rag_service.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ ë°©ì‹
  - í…ìŠ¤íŠ¸ ì²­í¬(ì¡°ê°) í¬ê¸°
  - OpenAI ì„ë² ë”© ëª¨ë¸
  - AI ë‹µë³€ ìƒì„± í”„ë¡¬í”„íŠ¸ (í•œêµ­ì–´ ë‹µë³€ ê°•ì œ ë“±)
  - ìœ ì‚¬ë„ ê²€ìƒ‰ ê°œìˆ˜ (top_k)

#### **PDF ìŠ¤í¬ë˜í•‘ (ë³µì§€ë¡œ ì‚¬ì´íŠ¸)**
- **íŒŒì¼**: `backend/services/scraper_service.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë‹¤ìš´ë¡œë“œí•  PDF ê°œìˆ˜
  - ìŠ¤í¬ë˜í•‘ ëŒ€ìƒ ì›¹ì‚¬ì´íŠ¸
  - PDF ì €ì¥ ìœ„ì¹˜
  - ì¤‘ë³µ ë‹¤ìš´ë¡œë“œ ë°©ì§€

#### **ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°**
- **íŒŒì¼**: `backend/database.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - Supabase ì—°ê²° ì„¤ì •
  - í™˜ê²½ë³€ìˆ˜ ë¶ˆëŸ¬ì˜¤ê¸°

#### **ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… (CRUD)**
- **íŒŒì¼**: `backend/crud.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ì‚¬ìš©ì ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ
  - ê²Œì‹œê¸€ ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œ
  - ëŒ“ê¸€, ì¢‹ì•„ìš” ì²˜ë¦¬
  - ë²¡í„° ê²€ìƒ‰ (RAG)
  - SQL ì¿¼ë¦¬ ë¡œì§

#### **ë°ì´í„° ëª¨ë¸ (Pydantic)**
- **íŒŒì¼**: `backend/schemas.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - API ìš”ì²­/ì‘ë‹µ ë°ì´í„° í˜•ì‹
  - í•„ìˆ˜/ì„ íƒ í•„ë“œ
  - ë°ì´í„° ìœ íš¨ì„± ê²€ì‚¬ ê·œì¹™

#### **ë¹„ë°€ë²ˆí˜¸ & JWT í† í°**
- **íŒŒì¼**: `backend/auth/utils.py`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë¹„ë°€ë²ˆí˜¸ í•´ì‹± ë°©ì‹ (bcrypt)
  - JWT í† í° ìƒì„±/ê²€ì¦
  - í† í° ë§Œë£Œ ì‹œê°„
  - ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ë¡œì§

---

### ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ (Supabase)

#### **í…Œì´ë¸” ìƒì„± SQL**
- **íŒŒì¼**: `backend/init_supabase.sql`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - í…Œì´ë¸” êµ¬ì¡° (users, posts, comments ë“±)
  - ì»¬ëŸ¼ ì¶”ê°€/ì‚­ì œ
  - ì¸ë±ìŠ¤, ì™¸ë˜í‚¤ ê´€ê³„
  - Row Level Security (RLS) ì •ì±…
  - ë²¡í„° ê²€ìƒ‰ í•¨ìˆ˜

---

### ğŸ”§ í™˜ê²½ ì„¤ì • íŒŒì¼

#### **ë°±ì—”ë“œ í™˜ê²½ë³€ìˆ˜**
- **íŒŒì¼**: `backend/.env`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - OpenAI API í‚¤
  - Supabase ì—°ê²° ì •ë³´
  - JWT ë¹„ë°€í‚¤
  - ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸

#### **í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ë³€ìˆ˜**
- **íŒŒì¼**: `frontend/.env.local`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ë°±ì—”ë“œ API ì„œë²„ ì£¼ì†Œ

#### **Python ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡**
- **íŒŒì¼**: `backend/requirements.txt`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ì„¤ì¹˜í•  Python íŒ¨í‚¤ì§€ ë²„ì „
  - ìƒˆë¡œìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€

#### **Node.js ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª©ë¡**
- **íŒŒì¼**: `frontend/package.json`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ì„¤ì¹˜í•  npm íŒ¨í‚¤ì§€ ë²„ì „
  - ìƒˆë¡œìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì¶”ê°€
  - ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

---

### ğŸ¨ ë””ìì¸ ì‹œìŠ¤í…œ

#### **ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼**
- **íŒŒì¼**: `frontend/app/globals.css`
- **ìˆ˜ì •í•˜ë©´ ë°”ë€ŒëŠ” ê²ƒ**:
  - ì „ì²´ ì•± ìƒ‰ìƒ í…Œë§ˆ
  - í°íŠ¸ ì„¤ì •
  - ì• ë‹ˆë©”ì´ì…˜ ì •ì˜
  - Tailwind CSS ì»¤ìŠ¤í„°ë§ˆì´ì§•

---

## ğŸ” ìì£¼ ë°œìƒí•˜ëŠ” ë¬¸ì œì™€ í•´ê²° ë°©ë²•

### âŒ "Pythonì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
**ì›ì¸**: Pythonì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ê±°ë‚˜ PATHì— ì¶”ê°€ë˜ì§€ ì•ŠìŒ
**í•´ê²°**:
1. Python ì¬ì„¤ì¹˜ ì‹œ "Add Python to PATH" ì²´í¬
2. í„°ë¯¸ë„ ì¬ì‹œì‘
3. `python --version` ìœ¼ë¡œ í™•ì¸

### âŒ "Nodeë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
**ì›ì¸**: Node.jsê°€ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ
**í•´ê²°**:
1. https://nodejs.org/ ì—ì„œ LTS ë²„ì „ ë‹¤ìš´ë¡œë“œ
2. ì„¤ì¹˜ í›„ í„°ë¯¸ë„ ì¬ì‹œì‘
3. `node --version` ìœ¼ë¡œ í™•ì¸

### âŒ "venv\Scripts\activateë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤" (Windows)
**ì›ì¸**: PowerShell ì‹¤í–‰ ì •ì±…
**í•´ê²°**:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### âŒ "Failed to fetch user" ë˜ëŠ” "401 Unauthorized"
**ì›ì¸**: JWT í† í°ì´ ë§Œë£Œë˜ì—ˆê±°ë‚˜ ì˜ëª»ë¨
**í•´ê²°**:
1. ë¸Œë¼ìš°ì €ì—ì„œ F12 (ê°œë°œì ë„êµ¬)
2. Application > Local Storage > `auth_token` ì‚­ì œ
3. ë‹¤ì‹œ ë¡œê·¸ì¸

### âŒ "CORS policy error"
**ì›ì¸**: ë°±ì—”ë“œ CORS ì„¤ì • ë¬¸ì œ
**í•´ê²°**:
1. `backend/main.py` ì—ì„œ CORS ì„¤ì • í™•ì¸
2. `FRONTEND_URL` í™˜ê²½ë³€ìˆ˜ê°€ `http://localhost:3000` ì¸ì§€ í™•ì¸

### âŒ "Supabase connection failed"
**ì›ì¸**: í™˜ê²½ë³€ìˆ˜ê°€ ì˜ëª» ì…ë ¥ë¨
**í•´ê²°**:
1. `backend/.env` íŒŒì¼ í™•ì¸
2. Supabase Dashboardì—ì„œ í‚¤ ë‹¤ì‹œ ë³µì‚¬
3. ë”°ì˜´í‘œ ì—†ì´ ì…ë ¥í–ˆëŠ”ì§€ í™•ì¸

### âŒ "OpenAI API error"
**ì›ì¸**: API í‚¤ê°€ ì˜ëª»ë˜ì—ˆê±°ë‚˜ í¬ë ˆë”§ ë¶€ì¡±
**í•´ê²°**:
1. https://platform.openai.com/account/billing ì—ì„œ ì”ì•¡ í™•ì¸
2. API í‚¤ ì¬ë°œê¸‰
3. `backend/.env` ì—ì„œ ìƒˆ í‚¤ë¡œ êµì²´

### âŒ "Port 8000 is already in use"
**ì›ì¸**: ë°±ì—”ë“œ ì„œë²„ê°€ ì´ë¯¸ ì‹¤í–‰ ì¤‘
**í•´ê²°**:
```bash
# Mac/Linux
lsof -ti:8000 | xargs kill -9

# Windows
netstat -ano | findstr :8000
taskkill /PID [í”„ë¡œì„¸ìŠ¤ë²ˆí˜¸] /F
```

### âŒ "Module not found" (Python)
**ì›ì¸**: ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ
**í•´ê²°**:
```bash
cd backend
source venv/bin/activate
pip install -r requirements.txt
```

### âŒ "Module not found" (Node.js)
**ì›ì¸**: npm íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì§€ ì•ŠìŒ
**í•´ê²°**:
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
```

---

## ğŸ“š Documentation

- **[SUPABASE_SETUP.md](./SUPABASE_SETUP.md)** - Modern Supabase integration guide
- **[SETUP_GUIDE.md](./SETUP_GUIDE.md)** - Detailed setup instructions
- **[COMPLETE_VERIFICATION.md](./COMPLETE_VERIFICATION.md)** - Full system verification

---

## ğŸ¨ Design

### Color Palette
- **Primary**: `#FF9ECD` (Soft Pink)
- **Secondary**: `#B4E4FF` (Baby Blue)
- **Accent**: `#F0E6FF` (Lavender)
- **Background**: Gradient (Pink â†’ Blue â†’ Purple)

### UI Features
- âœ¨ Floating animations
- ğŸ­ Glassmorphism effects
- ğŸŒˆ Gradient buttons
- ğŸ”˜ Rounded corners (1rem)
- ğŸ’« Smooth transitions

---

## ğŸ“ Project Structure

```
babypolicy/
â”œâ”€â”€ .env.example                 # Environment variables template
â”œâ”€â”€ .gitignore                   # Git ignore rules
â”œâ”€â”€ README.md                    # This file
â”œâ”€â”€ table-ref.md                 # Database schema reference
â”œâ”€â”€ data/
â”‚   â””â”€â”€ pdfs/bokjiro/           # Downloaded policy PDFs (auto-generated)
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ .env.example            # Backend environment template
â”‚   â”œâ”€â”€ requirements.txt        # Python dependencies
â”‚   â”œâ”€â”€ main.py                 # FastAPI app entry point
â”‚   â”œâ”€â”€ database.py             # Supabase client setup
â”‚   â”œâ”€â”€ crud.py                 # Database CRUD operations
â”‚   â”œâ”€â”€ schemas.py              # Pydantic schemas
â”‚   â”œâ”€â”€ init_supabase.sql       # Database initialization SQL
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â””â”€â”€ utils.py           # JWT & password hashing
â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â”œâ”€â”€ auth.py            # Authentication endpoints
â”‚   â”‚   â”œâ”€â”€ chat.py            # AI chatbot endpoints
â”‚   â”‚   â”œâ”€â”€ community.py       # Community endpoints
â”‚   â”‚   â”œâ”€â”€ user.py            # User profile endpoints
â”‚   â”‚   â””â”€â”€ admin.py           # Admin endpoints (scraper, RAG)
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ rag_service.py     # RAG processing & Q&A
â”‚       â””â”€â”€ scraper_service.py # PDF scraping from Bokjiro
â”‚
â””â”€â”€ frontend/
    â”œâ”€â”€ .env.local.example      # Frontend environment template
    â”œâ”€â”€ package.json            # Node dependencies
    â”œâ”€â”€ app/
    â”‚   â”œâ”€â”€ layout.tsx         # Root layout with AuthProvider
    â”‚   â”œâ”€â”€ page.tsx           # Home page (auth-aware)
    â”‚   â”œâ”€â”€ (auth)/
    â”‚   â”‚   â”œâ”€â”€ login/         # Login page
    â”‚   â”‚   â””â”€â”€ register/      # Registration page
    â”‚   â”œâ”€â”€ chat/page.tsx      # AI chatbot interface
    â”‚   â”œâ”€â”€ community/         # Community pages
    â”‚   â””â”€â”€ me/page.tsx        # User profile page
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ BottomNav.tsx      # Bottom navigation (auth-aware)
    â”‚   â””â”€â”€ ui/                # shadcn/ui components
    â”œâ”€â”€ contexts/
    â”‚   â””â”€â”€ AuthContext.tsx    # Global authentication state
    â””â”€â”€ lib/
        â””â”€â”€ api.ts             # API client functions
```

---

## ğŸ—„ï¸ Database Schema

### Core Tables (15 total)

#### User Management
- `users` - User accounts
- `user_profiles` - User details (name, region, family info)
- `user_settings` - Preferences

#### Policy & RAG
- `policies` - Policy documents
- `policy_chunks` - Text chunks with vector embeddings
- `user_policies` - Saved policies

#### Community
- `categories` - Post categories (6 default)
- `posts` - Community posts
- `comments` - Post comments
- `post_likes` / `comment_likes` - Like tracking

#### Chat
- `conversations` - Chat sessions
- `messages` - Chat messages with RAG sources

#### Other
- `calendar_events` - Policy deadlines
- `notifications` - User notifications

---

## ğŸ”§ API Endpoints

### Authentication (`/api/auth`)
- `POST /auth/register` - User registration
- `POST /auth/login` - User login (returns JWT token)
- `GET /auth/me` - Get current user (requires authentication)

### Chat (`/api/chat`)
- `POST /chat` - Send message to AI chatbot (RAG-powered)

### Community (`/api/community`)
- `GET /community/categories` - Get all categories
- `GET /community/posts` - Get posts (with pagination)
- `POST /community/posts` - Create new post (requires auth)
- `GET /community/posts/{id}` - Get single post with details
- `GET /community/posts/{id}/comments` - Get comments for a post
- `POST /community/posts/{id}/comments` - Create comment (requires auth)

### User (`/api/user`)
- `GET /user/profile` - Get user profile (requires auth)

### Admin (`/api/admin`) - For development/maintenance
- `POST /admin/run-scraper` - Download policy PDFs from Bokjiro
- `POST /admin/process-rag` - Process PDFs into vector embeddings

---

## ğŸ§ª Testing

### Backend API Testing
Visit http://localhost:8000/docs for interactive API documentation

### Frontend Testing
```bash
npm run dev
# Visit http://localhost:3000
```

### Database Testing
```python
# Test Supabase connection
from backend.database import supabase
result = supabase.table('categories').select('*').execute()
print(f'Found {len(result.data)} categories')
```

---

## ğŸš¢ Deployment

### Frontend (Vercel)
```bash
# Connect to Vercel
vercel --prod

# Set environment variable
NEXT_PUBLIC_API_URL=https://your-backend.com/api
```

### Backend (Railway / Fly.io)
```bash
# Deploy backend
# Set all environment variables from .env
```

---

## ğŸ¤ Contributing

We welcome contributions! Please follow these steps:

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## ğŸ“„ License

This project is licensed under the MIT License.

---

## ğŸ‘¥ Team

Built with â¤ï¸ for parents and babies

---

## ğŸ™ Acknowledgments

- [Supabase](https://supabase.com/) - Database & Backend
- [OpenAI](https://openai.com/) - AI/GPT Integration
- [Next.js](https://nextjs.org/) - React Framework
- [FastAPI](https://fastapi.tiangolo.com/) - Python Web Framework

---

## ğŸ“ Support

For issues or questions:
- Open an issue on GitHub
- Check documentation in `/docs`
- Contact: [support@babypolicy.com]

---

**Made with ğŸ¼ by BabyPolicy Team**