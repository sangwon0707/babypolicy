# BabyPolicy - ê¸°ìˆ  ìŠ¤íƒ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”
BabyPolicyëŠ” AI ê¸°ë°˜ ìœ¡ì•„ ì •ì±… ì¶”ì²œ ì‹œìŠ¤í…œìœ¼ë¡œ, RAG(Retrieval-Augmented Generation)ì™€ OpenAI Function Callingì„ í™œìš©í•˜ì—¬ ë§ì¶¤í˜• ì •ì±… ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

---

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ êµ¬ì¡° (ìƒì„¸ ì—°ê²°ë„)

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ğŸ”„ Version Control         â”‚
                    â”‚      GitHub Repository       â”‚
                    â”‚   - Source Code              â”‚
                    â”‚   - CI/CD Workflows          â”‚
                    â”‚   - Issue Tracking           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚ Git Push/Pull
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚                           â”‚
                 â–¼                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   ê°œë°œì (Dev)      â”‚      â”‚  ë°°í¬ í™˜ê²½ (Deploy) â”‚
    â”‚   - Local Dev      â”‚      â”‚  - Vercel (FE)     â”‚
    â”‚   - Code Review    â”‚      â”‚  - Cloud (BE)      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ì‚¬ìš©ì ë ˆì´ì–´ (User)                          â”‚
â”‚                   ğŸ’» Desktop / ğŸ“± Mobile / ğŸ–¥ï¸ Tablet                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTPS (TLS 1.3)
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í”„ë¡ íŠ¸ì—”ë“œ ë ˆì´ì–´ (Frontend)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Next.js 15 + React 19 + TypeScript                             â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  App Router  â”‚  UI/UX       â”‚  State Mgmt  â”‚  API Client  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (RSC)       â”‚  Tailwind    â”‚  Context API â”‚  Fetch/Axios â”‚ â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  Radix UI    â”‚              â”‚              â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚                                                                  â”‚ â”‚
â”‚  â”‚  í˜ì´ì§€ êµ¬ì¡°:                                                     â”‚ â”‚
â”‚  â”‚  / â†’ í™ˆ (ë°°ë„ˆ, ì¸ê¸°ê¸€)                                           â”‚ â”‚
â”‚  â”‚  /chat â†’ AI ì •ì±… ìƒë‹´                                            â”‚ â”‚
â”‚  â”‚  /community â†’ ì»¤ë®¤ë‹ˆí‹°                                           â”‚ â”‚
â”‚  â”‚  /me/calendar â†’ ìº˜ë¦°ë”                                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚             â”‚               â”‚
        â”‚ REST API   â”‚ REST API    â”‚ REST API      â”‚ REST API
        â”‚ /auth      â”‚ /chat       â”‚ /community    â”‚ /calendar
        â–¼            â–¼             â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ë°±ì—”ë“œ ë ˆì´ì–´ (Backend)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  FastAPI + Python 3.13 + Uvicorn (ASGI)                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  ë¼ìš°í„° ê³„ì¸µ (Router Layer)                               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  /auth /chat /community /calendar /user /admin /policy   â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                            â–¼                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ (Business Logic)                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Auth    â”‚   RAG    â”‚ Function â”‚   Scraper         â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Service â”‚  System  â”‚ Calling  â”‚   Service         â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ JWT      â”‚ Vector   â”‚ Calendar â”‚   Selenium        â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Passlib  â”‚ Embed    â”‚ Auto     â”‚   WebDriver       â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚ Token    â”‚ Rerank   â”‚ Schedule â”‚   PDF Parser      â”‚  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                            â–¼                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ (Data Access Layer)                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  CRUD í•¨ìˆ˜ (crud.py) + Supabase Client                   â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚        â”‚          â”‚          â”‚            â”‚
       â”‚        â”‚          â”‚          â”‚            â”‚ Web Scraping
       â”‚        â”‚          â”‚          â”‚            â–¼
       â”‚        â”‚          â”‚          â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚        â”‚          â”‚          â”‚   â”‚  ì •ì±… ë°ì´í„° ì†ŒìŠ¤       â”‚
       â”‚        â”‚          â”‚          â”‚   â”‚  - bokjiro.go.kr      â”‚
       â”‚        â”‚          â”‚          â”‚   â”‚  - ì •ì±…ë¸Œë¦¬í•‘          â”‚
       â”‚        â”‚          â”‚          â”‚   â”‚  - ì •ë¶€24             â”‚
       â”‚        â”‚          â”‚          â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚        â”‚          â”‚          â”‚
       â”‚ SQL    â”‚ SQL      â”‚ API Call â”‚ API Call
       â”‚ Query  â”‚ Vector   â”‚ Chat     â”‚ Embedding
       â–¼        â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ë°ì´í„°ë² ì´ìŠ¤ & ì™¸ë¶€ ì„œë¹„ìŠ¤ ë ˆì´ì–´                       â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Supabase (PostgreSQL)         â”‚  â”‚   OpenAI API          â”‚  â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚   â”‚  Database                 â”‚ â”‚  â”‚   â”‚  GPT-4o-mini   â”‚  â”‚  â”‚
â”‚  â”‚   â”‚  - PostgreSQL 15          â”‚ â”‚  â”‚   â”‚  - Chat API    â”‚  â”‚  â”‚
â”‚  â”‚   â”‚  - pgvector Extension     â”‚ â”‚  â”‚   â”‚  - Streaming   â”‚  â”‚  â”‚
â”‚  â”‚   â”‚                           â”‚ â”‚  â”‚   â”‚  - Function    â”‚  â”‚  â”‚
â”‚  â”‚   â”‚  Tables:                  â”‚ â”‚  â”‚   â”‚    Calling     â”‚  â”‚  â”‚
â”‚  â”‚   â”‚  â”œâ”€ users                 â”‚ â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚   â”‚  â”œâ”€ user_profiles         â”‚ â”‚  â”‚                       â”‚  â”‚
â”‚  â”‚   â”‚  â”œâ”€ policies              â”‚ â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚   â”‚  â”œâ”€ policy_chunks         â”‚ â”‚  â”‚   â”‚  Embedding     â”‚  â”‚  â”‚
â”‚  â”‚   â”‚  â”‚  (+ vector embeddings)â”‚ â”‚  â”‚   â”‚  BGE-M3-Korean â”‚  â”‚  â”‚
â”‚  â”‚   â”‚  â”œâ”€ conversations         â”‚ â”‚  â”‚   â”‚  512 dim       â”‚  â”‚  â”‚
â”‚  â”‚   â”‚  â”œâ”€ messages              â”‚ â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚   â”‚  â”œâ”€ categories            â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”‚   â”‚  â”œâ”€ posts                 â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  â”œâ”€ comments              â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  â”œâ”€ post_likes            â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  â””â”€ calendar_events       â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚                           â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  RPC Functions:           â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  - match_policy_chunks    â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  - increment_views_count  â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  - increment_likes_count  â”‚ â”‚                              â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                              â”‚
â”‚  â”‚                                 â”‚                              â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                              â”‚
â”‚  â”‚   â”‚  Auth                     â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  - JWT Validation         â”‚ â”‚                              â”‚
â”‚  â”‚   â”‚  - Row Level Security     â”‚ â”‚                              â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ê³„ì¸µë³„ ìƒì„¸ ê¸°ìˆ  ìŠ¤íƒ

### 1ï¸âƒ£ í”„ë¡ íŠ¸ì—”ë“œ ë ˆì´ì–´ (Frontend Layer)

#### í•µì‹¬ í”„ë ˆì„ì›Œí¬
- **Next.js 15.5.4** - React ë©”íƒ€ í”„ë ˆì„ì›Œí¬, App Router
- **React 19.1.0** - UI ë¼ì´ë¸ŒëŸ¬ë¦¬
- **TypeScript 5** - ì •ì  íƒ€ì… ì‹œìŠ¤í…œ

#### UI/UX ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Tailwind CSS 4** - ìœ í‹¸ë¦¬í‹° ìš°ì„  CSS í”„ë ˆì„ì›Œí¬
- **Lucide React** - ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **Radix UI** - ì ‘ê·¼ì„± ì¤‘ì‹¬ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
  - @radix-ui/react-label
  - @radix-ui/react-slot
- **Class Variance Authority** - ì¡°ê±´ë¶€ í´ë˜ìŠ¤ ê´€ë¦¬
- **Tailwind Merge** - Tailwind í´ë˜ìŠ¤ ë³‘í•©
- **Tailwind Animate** - ì• ë‹ˆë©”ì´ì…˜ ìœ í‹¸ë¦¬í‹°

#### ì£¼ìš” í˜ì´ì§€ êµ¬ì¡°
```
/                    - í™ˆ (ë°°ë„ˆ, ì¸ê¸°ê¸€)
/chat               - AI ì •ì±… ìƒë‹´
/community          - ìœ¡ì•„ ì»¤ë®¤ë‹ˆí‹°
/community/[id]     - ê²Œì‹œê¸€ ìƒì„¸
/me                 - ë§ˆì´í˜ì´ì§€
/me/calendar        - ì¼ì • ê´€ë¦¬
/login              - ë¡œê·¸ì¸
/signup             - íšŒì›ê°€ì…
```

---

### 2ï¸âƒ£ ë°±ì—”ë“œ ë ˆì´ì–´ (Backend Layer)

#### í•µì‹¬ í”„ë ˆì„ì›Œí¬
- **FastAPI** - í˜„ëŒ€ì ì¸ Python ì›¹ í”„ë ˆì„ì›Œí¬
- **Uvicorn** - ASGI ì„œë²„
- **Python-dotenv** - í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

#### ë°ì´í„°ë² ì´ìŠ¤ & ORM
- **Supabase Client** - PostgreSQL í´ë¼ì´ì–¸íŠ¸
- **SQLAlchemy** - Python ORM
- **psycopg2-binary** - PostgreSQL ì–´ëŒ‘í„°
- **pgvector** - ë²¡í„° ê²€ìƒ‰ í™•ì¥

#### RAG & AI ì‹œìŠ¤í…œ
- **OpenAI Python SDK** - GPT-4 API í´ë¼ì´ì–¸íŠ¸
- **Sentence Transformers** - ì„ë² ë”© ëª¨ë¸
- **BGE-M3-Korean** - í•œêµ­ì–´ ì„ë² ë”© ëª¨ë¸
- **pypdf** - PDF íŒŒì‹±

#### ì¸ì¦ ì‹œìŠ¤í…œ
- **python-jose** - JWT í† í° ìƒì„±/ê²€ì¦
- **passlib[bcrypt]** - ë¹„ë°€ë²ˆí˜¸ í•´ì‹±

#### ìŠ¤í¬ë˜í¼ ì‹œìŠ¤í…œ
- **Selenium** - ì›¹ ìë™í™”
- **Webdriver Manager** - ë“œë¼ì´ë²„ ê´€ë¦¬

#### ê¸°íƒ€ ìœ í‹¸ë¦¬í‹°
- **python-multipart** - íŒŒì¼ ì—…ë¡œë“œ
- **httpx** - ë¹„ë™ê¸° HTTP í´ë¼ì´ì–¸íŠ¸

#### API ì—”ë“œí¬ì¸íŠ¸ êµ¬ì¡°
```
/api/auth           - ì¸ì¦ (ë¡œê·¸ì¸, íšŒì›ê°€ì…, í”„ë¡œí•„)
/api/chat           - RAG ê¸°ë°˜ ì •ì±… ìƒë‹´
/api/chat/execute-function - Function Calling ì‹¤í–‰
/api/conversations  - ëŒ€í™” ë‚´ì—­ ê´€ë¦¬
/api/community      - ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ
/api/community/posts/popular - ì¸ê¸°ê¸€
/api/calendar       - ì¼ì • ê´€ë¦¬ CRUD
/api/policies       - ì •ì±… ì¡°íšŒ
/api/user           - ì‚¬ìš©ì ì •ë³´ ê´€ë¦¬
/api/admin          - ê´€ë¦¬ì ê¸°ëŠ¥
```

---

### 3ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´ (Database Layer)

#### Supabase PostgreSQL
- **pgvector í™•ì¥** - ë²¡í„° ìœ ì‚¬ë„ ê²€ìƒ‰
- **RPC í•¨ìˆ˜** - ë²¡í„° ê²€ìƒ‰, ì¡°íšŒìˆ˜/ì¢‹ì•„ìš” ì¹´ìš´í„°

#### ì£¼ìš” í…Œì´ë¸”
```sql
-- ì‚¬ìš©ì ê´€ë ¨
users              (id, email, password, created_at)
user_profiles      (user_id, name, gender, region, children_info)
user_settings      (user_id, notify_policy, language, theme)

-- ì •ì±… ê´€ë ¨
policies           (id, title, description, category, region, eligibility)
policy_chunks      (id, policy_id, content, embedding, metadata)
user_policies      (user_id, policy_id, is_checked)

-- ëŒ€í™” ê´€ë ¨
conversations      (id, user_id, title, created_at, last_message_at)
messages           (id, conversation_id, role, content, rag_sources)

-- ì»¤ë®¤ë‹ˆí‹° ê´€ë ¨
categories         (id, name, description, sort_order)
posts              (id, author_id, category_id, title, content, views_count, likes_count)
comments           (id, post_id, author_id, content, parent_id)
post_likes         (post_id, user_id)

-- ìº˜ë¦°ë” ê´€ë ¨
calendar_events    (id, user_id, title, description, event_date, is_policy_related)
```

---

### 4ï¸âƒ£ ì™¸ë¶€ ì„œë¹„ìŠ¤ (External Services)

#### OpenAI API
- **GPT-4 Chat Completion** - ìì—°ì–´ ëŒ€í™” ìƒì„±
- **Embeddings API** - í…ìŠ¤íŠ¸ ë²¡í„°í™”
- **Function Calling** - êµ¬ì¡°í™”ëœ í•¨ìˆ˜ í˜¸ì¶œ
  - `add_calendar_event` - ë‚ ì§œ ê°ì§€ ì‹œ ìë™ ì¼ì • ì¶”ê°€

#### ì •ì±… ë°ì´í„° ì†ŒìŠ¤
- **ë³µì§€ë¡œ (bokjiro.go.kr)** - ì •ë¶€ ë³µì§€ ì •ì±…
- **ì •ì±…ë¸Œë¦¬í•‘** - ìµœì‹  ì •ì±… ë‰´ìŠ¤

---

## ğŸ”„ ë°ì´í„° íë¦„ (Data Flow)

### 1. ì‚¬ìš©ì ì§ˆë¬¸ â†’ AI ë‹µë³€ â†’ ìº˜ë¦°ë” ìë™ ì¶”ê°€ íë¦„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User: "2025ë…„ 12ì›” 25ì¼ì— ì¶œì‚° ì˜ˆì •ì¸ë° ë°›ì„ ìˆ˜ ìˆëŠ” ì§€ì›ê¸ˆì€?" â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend (Next.js)                                              â”‚
â”‚ - ì‚¬ìš©ì ì…ë ¥ ìˆ˜ì§‘                                               â”‚
â”‚ - POST /api/chat { message, conversation_id }                  â”‚
â”‚ - Authorization: Bearer {JWT_TOKEN}                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚ HTTPS
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend - Auth Middleware                                       â”‚
â”‚ 1. JWT í† í° ê²€ì¦                                                â”‚
â”‚ 2. user_id ì¶”ì¶œ                                                 â”‚
â”‚ 3. ê¶Œí•œ í™•ì¸                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend - Chat Router (/api/chat)                              â”‚
â”‚ 1. ëŒ€í™” ë‚´ì—­ ì¡°íšŒ (ìµœê·¼ 10ê°œ)                                    â”‚
â”‚    SELECT * FROM messages WHERE conversation_id = ?            â”‚
â”‚ 2. RAG Service í˜¸ì¶œ                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RAG Service - Step 1: Vector Search                            â”‚
â”‚ 1. ì§ˆë¬¸ ì„ë² ë”© ìƒì„±                                              â”‚
â”‚    OpenAI Embedding API (BGE-M3-Korean)                        â”‚
â”‚    Input: "2025ë…„ 12ì›” 25ì¼ì— ì¶œì‚° ì˜ˆì •ì¸ë°..."                 â”‚
â”‚    Output: [0.123, -0.456, ..., 0.789] (512 dim)              â”‚
â”‚                                                                 â”‚
â”‚ 2. pgvector ìœ ì‚¬ë„ ê²€ìƒ‰                                          â”‚
â”‚    SELECT * FROM policy_chunks                                 â”‚
â”‚    ORDER BY embedding <=> $1 LIMIT 50                          â”‚
â”‚    (ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê³„ì‚°)                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RAG Service - Step 2: Reranking                                â”‚
â”‚ - Top 50ê°œ ì²­í¬ë¥¼ Top 8ê°œë¡œ ì •ë°€ í•„í„°ë§                          â”‚
â”‚ - ì˜ë¯¸ì  ê´€ë ¨ì„± ì ìˆ˜ ì¬ê³„ì‚°                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RAG Service - Step 3: Context Building                         â”‚
â”‚ - 8ê°œ ì²­í¬ë¥¼ í…ìŠ¤íŠ¸ë¡œ ì¡°í•©                                        â”‚
â”‚ - ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ + ì»¨í…ìŠ¤íŠ¸ + ì‚¬ìš©ì ì§ˆë¬¸ ê²°í•©                   â”‚
â”‚ - Function Tool ì •ì˜ ì¶”ê°€ (add_calendar_event)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OpenAI API Call                                                 â”‚
â”‚ POST https://api.openai.com/v1/chat/completions                â”‚
â”‚ {                                                               â”‚
â”‚   "model": "gpt-4o-mini",                                       â”‚
â”‚   "messages": [...],                                            â”‚
â”‚   "tools": [{                                                   â”‚
â”‚     "type": "function",                                         â”‚
â”‚     "function": {                                               â”‚
â”‚       "name": "add_calendar_event",                             â”‚
â”‚       "description": "ë‚ ì§œë¥¼ ìº˜ë¦°ë”ì— ì¶”ê°€",                      â”‚
â”‚       "parameters": {...}                                       â”‚
â”‚     }                                                           â”‚
â”‚   }],                                                           â”‚
â”‚   "tool_choice": "required"  // ë‚ ì§œ ê°ì§€ ì‹œ                     â”‚
â”‚ }                                                               â”‚
â”‚                                                                 â”‚
â”‚ Response:                                                       â”‚
â”‚ - content: "ì¶œì‚° ì‹œ ì²«ë§Œë‚¨ì´ìš©ê¶Œ 200ë§Œì›..."                     â”‚
â”‚ - tool_calls: [{                                                â”‚
â”‚     function: {                                                 â”‚
â”‚       name: "add_calendar_event",                               â”‚
â”‚       arguments: {                                              â”‚
â”‚         title: "ì¶œì‚° ì˜ˆì •ì¼",                                    â”‚
â”‚         date: "2025-12-25T09:00:00",                            â”‚
â”‚         description: "ì²«ë§Œë‚¨ì´ìš©ê¶Œ ì‹ ì²­ ê°€ëŠ¥"                    â”‚
â”‚       }                                                         â”‚
â”‚     }                                                           â”‚
â”‚   }]                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend - Save Messages                                         â”‚
â”‚ 1. INSERT INTO messages (conversation_id, role='user', ...)    â”‚
â”‚ 2. INSERT INTO messages (conversation_id, role='assistant'...) â”‚
â”‚ 3. UPDATE conversations SET last_message_at = NOW()            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend â†’ Frontend Response                                     â”‚
â”‚ {                                                               â”‚
â”‚   "answer": "ì¶œì‚° ì‹œ ì²«ë§Œë‚¨ì´ìš©ê¶Œ 200ë§Œì›...",                  â”‚
â”‚   "sources": [{...}, {...}],                                    â”‚
â”‚   "function_call": {                                            â”‚
â”‚     "name": "add_calendar_event",                               â”‚
â”‚     "arguments": {...}                                          â”‚
â”‚   }                                                             â”‚
â”‚ }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend - Render UI                                            â”‚
â”‚ 1. ë‹µë³€ í‘œì‹œ                                                     â”‚
â”‚ 2. ì¶œì²˜ ì¹´ë“œ í‘œì‹œ (ì ‘ì„ ìˆ˜ ìˆìŒ)                                 â”‚
â”‚ 3. "ğŸ“… ìº˜ë¦°ë” ì¼ì • ì œì•ˆ" ì¹´ë“œ í‘œì‹œ                               â”‚
â”‚    - ì œëª©: "ì¶œì‚° ì˜ˆì •ì¼"                                         â”‚
â”‚    - ë‚ ì§œ: 2025ë…„ 12ì›” 25ì¼                                      â”‚
â”‚    - ë²„íŠ¼: "âœ… ìº˜ë¦°ë”ì— ì¶”ê°€"                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼ (User clicks "ìº˜ë¦°ë”ì— ì¶”ê°€")
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend                                                        â”‚
â”‚ POST /api/chat/execute-function                                 â”‚
â”‚ {                                                               â”‚
â”‚   "function_name": "add_calendar_event",                        â”‚
â”‚   "arguments": {...},                                           â”‚
â”‚   "conversation_id": "..."                                      â”‚
â”‚ }                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend - Execute Function                                      â”‚
â”‚ 1. ì¸ì ê²€ì¦ (title, date í•„ìˆ˜)                                 â”‚
â”‚ 2. ë‚ ì§œ íŒŒì‹± (ISO 8601)                                          â”‚
â”‚ 3. INSERT INTO calendar_events (user_id, title, date, ...)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend - Success Message                                      â”‚
â”‚ "âœ… 'ì¶œì‚° ì˜ˆì •ì¼' ì¼ì •ì´ ìº˜ë¦°ë”ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤."               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. ì»¤ë®¤ë‹ˆí‹° ì¸ê¸°ê¸€ í‘œì‹œ íë¦„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend - Home Page Load                                â”‚
â”‚ useEffect(() => { fetchPopularPosts() })                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend API Call                                        â”‚
â”‚ GET /api/community/posts/popular?limit=2                â”‚
â”‚ Authorization: Bearer {JWT_TOKEN}                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend - Community Router                               â”‚
â”‚ def get_popular_posts(limit, supabase):                 â”‚
â”‚     return crud.get_popular_posts(supabase, limit)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database Query                                           â”‚
â”‚ SELECT posts.*,                                          â”‚
â”‚        users.id, users.email,                            â”‚
â”‚        user_profiles.name                                â”‚
â”‚ FROM posts                                               â”‚
â”‚ JOIN users ON posts.author_id = users.id                â”‚
â”‚ LEFT JOIN user_profiles ON users.id = user_profiles.id  â”‚
â”‚ ORDER BY posts.views_count DESC                         â”‚
â”‚ LIMIT 2                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend - Data Transform                                 â”‚
â”‚ - user_profiles ì¤‘ì²© êµ¬ì¡°ë¥¼ í‰íƒ„í™”                        â”‚
â”‚ - author.nameìœ¼ë¡œ ë³€í™˜                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend - Render UI                                     â”‚
â”‚ <div className="space-y-3">                             â”‚
â”‚   {popularPosts.map(post => (                           â”‚
â”‚     <Link href={`/community/${post.id}`}>              â”‚
â”‚       <div className="bg-white rounded-xl...">         â”‚
â”‚         ğŸ”¥ ì¸ê¸° - ì¡°íšŒìˆ˜ {post.views_count}             â”‚
â”‚         {post.title}                                    â”‚
â”‚       </div>                                            â”‚
â”‚     </Link>                                             â”‚
â”‚   ))}                                                   â”‚
â”‚ </div>                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. ì •ì±… ìŠ¤í¬ë˜í•‘ â†’ ë²¡í„° ì €ì¥ â†’ RAG ì¤€ë¹„ íë¦„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scraper Service (Selenium)                               â”‚
â”‚ 1. Chrome WebDriver ì´ˆê¸°í™”                               â”‚
â”‚ 2. bokjiro.go.kr ì ‘ì†                                    â”‚
â”‚ 3. ì •ì±… ëª©ë¡ í˜ì´ì§€ ìˆœíšŒ                                  â”‚
â”‚ 4. ê° ì •ì±… ìƒì„¸ í˜ì´ì§€ ë°©ë¬¸                               â”‚
â”‚ 5. PDF ë‹¤ìš´ë¡œë“œ ë§í¬ ì¶”ì¶œ                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PDF Download                                             â”‚
â”‚ - íŒŒì¼ ì €ì¥: data/pdfs/bokjiro/{policy_id}.pdf          â”‚
â”‚ - ë©”íƒ€ë°ì´í„° ì €ì¥: {title, url, date}                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PDF Parsing (pypdf)                                      â”‚
â”‚ 1. PDF íŒŒì¼ ì—´ê¸°                                         â”‚
â”‚ 2. í˜ì´ì§€ë³„ í…ìŠ¤íŠ¸ ì¶”ì¶œ                                   â”‚
â”‚ 3. í…ìŠ¤íŠ¸ ì •ì œ (ê³µë°±, íŠ¹ìˆ˜ë¬¸ì ì œê±°)                      â”‚
â”‚ 4. ì „ì²´ í…ìŠ¤íŠ¸ ê²°í•©                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Text Chunking                                            â”‚
â”‚ - 512 í† í° ë‹¨ìœ„ë¡œ ë¶„í•  (overlap 50 í† í°)                 â”‚
â”‚ - ê° ì²­í¬ì— ë©”íƒ€ë°ì´í„° ì¶”ê°€                               â”‚
â”‚   {                                                      â”‚
â”‚     policy_id, doc_id, page_num,                        â”‚
â”‚     chunk_index, total_chunks                           â”‚
â”‚   }                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Embedding Generation (BGE-M3-Korean)                    â”‚
â”‚ FOR EACH chunk:                                          â”‚
â”‚   1. í…ìŠ¤íŠ¸ â†’ ì„ë² ë”© ë²¡í„° (512 dim)                      â”‚
â”‚   2. Batch size: 64 (ì„±ëŠ¥ ìµœì í™”)                        â”‚
â”‚   3. ë²¡í„° ì •ê·œí™” (L2 norm)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database Insert                                          â”‚
â”‚ BEGIN TRANSACTION;                                       â”‚
â”‚                                                          â”‚
â”‚ 1. INSERT INTO policies (id, title, category, ...)      â”‚
â”‚                                                          â”‚
â”‚ 2. INSERT INTO policy_chunks (                          â”‚
â”‚      policy_id,                                          â”‚
â”‚      content,                                            â”‚
â”‚      embedding,  -- pgvector type                       â”‚
â”‚      metadata                                            â”‚
â”‚    ) VALUES (?, ?, ?, ?)                                 â”‚
â”‚    (ë°°ì¹˜ë¡œ 1000ê°œì”© ì‚½ì…)                                 â”‚
â”‚                                                          â”‚
â”‚ 3. CREATE INDEX IF NOT EXISTS                           â”‚
â”‚    idx_policy_chunks_embedding                          â”‚
â”‚    ON policy_chunks                                     â”‚
â”‚    USING ivfflat (embedding vector_cosine_ops)          â”‚
â”‚    WITH (lists = 100);                                  â”‚
â”‚                                                          â”‚
â”‚ COMMIT;                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RAG System Ready                                         â”‚
â”‚ âœ… ì •ì±… ë°ì´í„° ì¸ë±ì‹± ì™„ë£Œ                                â”‚
â”‚ âœ… ë²¡í„° ê²€ìƒ‰ ê°€ëŠ¥                                         â”‚
â”‚ âœ… ì‚¬ìš©ì ì§ˆë¬¸ ì‘ë‹µ ì¤€ë¹„                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ë³´ì•ˆ & ì¸ì¦

### JWT ì¸ì¦ í”Œë¡œìš°
```
1. User: ë¡œê·¸ì¸ (email, password)
2. Backend:
   a. ë¹„ë°€ë²ˆí˜¸ ê²€ì¦ (bcrypt)
   b. JWT í† í° ìƒì„± (python-jose)
3. Frontend: í† í°ì„ localStorageì— ì €ì¥
4. ì´í›„ ëª¨ë“  ìš”ì²­: Authorization: Bearer <token>
5. Backend: JWT ê²€ì¦ í›„ user_id ì¶”ì¶œ
```

---

## ğŸš€ ë°°í¬ & ìš´ì˜

### ê°œë°œ í™˜ê²½
- Frontend: `npm run dev` (í¬íŠ¸ 3000)
- Backend: `uvicorn backend.main:app --reload` (í¬íŠ¸ 8000)

### í™˜ê²½ ë³€ìˆ˜
```env
# Backend (.env)
DATABASE_URL=postgresql://...
OPENAI_API_KEY=sk-proj-...
SECRET_KEY=...
SUPABASE_URL=https://...
SUPABASE_ANON_KEY=...
OPENAI_CHAT_MODEL=gpt-4o-mini
OPENAI_EMBEDDING_MODEL=upskyy/bge-m3-korean
PDF_DIRECTORIES=data/pdfs/bokjiro,data/pdfs/auto_scraper

# Frontend (.env.local)
NEXT_PUBLIC_API_URL=http://localhost:8000/api
```

---

## ğŸ“Š ì£¼ìš” ê¸°ëŠ¥

### âœ… êµ¬í˜„ ì™„ë£Œ
- [x] íšŒì›ê°€ì…/ë¡œê·¸ì¸ (JWT)
- [x] RAG ê¸°ë°˜ ì •ì±… ìƒë‹´
- [x] OpenAI Function Calling (ìë™ ì¼ì • ì¶”ê°€)
- [x] ìº˜ë¦°ë” ì‹œìŠ¤í…œ (CRUD)
- [x] ì»¤ë®¤ë‹ˆí‹° (ê²Œì‹œíŒ, ëŒ“ê¸€, ì¢‹ì•„ìš”)
- [x] í™ˆ ë°°ë„ˆ (ìë™ ìŠ¬ë¼ì´ë“œ)
- [x] ì¸ê¸°ê¸€ ì‹œìŠ¤í…œ
- [x] ì •ì±… ìŠ¤í¬ë˜í¼ (Selenium)
- [x] ë²¡í„° ê²€ìƒ‰ (pgvector + Reranking)

---

## ğŸ¨ Draw.io ë‹¤ì´ì–´ê·¸ë¨ ì‘ì„± ê°€ì´ë“œ

### í•„ìš”í•œ ì•„ì´ì½˜ ëª©ë¡
1. **í”„ë¡ íŠ¸ì—”ë“œ**: Next.js, React, TypeScript, Tailwind CSS
2. **ë°±ì—”ë“œ**: FastAPI, Python
3. **ë°ì´í„°ë² ì´ìŠ¤**: PostgreSQL, Supabase
4. **AI**: OpenAI, GPT-4
5. **ê¸°íƒ€**: Selenium, JWT, REST API

### ë ˆì´ì–´ êµ¬ì„± (ìƒë‹¨ â†’ í•˜ë‹¨)
1. **User Layer** (íŒŒë€ìƒ‰)
2. **Frontend Layer** (ì´ˆë¡ìƒ‰)
3. **Backend Layer** (ì£¼í™©ìƒ‰)
4. **Database Layer** (ë³´ë¼ìƒ‰)
5. **External Services Layer** (íšŒìƒ‰)

### í™”ì‚´í‘œ ë°©í–¥
- User â†’ Frontend: HTTPS
- Frontend â†’ Backend: REST API
- Backend â†’ Database: PostgreSQL Connection
- Backend â†’ OpenAI: API Calls
- Backend â†’ Scraper Sites: Web Scraping

---

## ğŸ“ ê¸°ìˆ  ì„ íƒ ì´ìœ 

### Next.js 15
- App Routerë¡œ ì„œë²„ ì»´í¬ë„ŒíŠ¸ í™œìš©
- ë¹ ë¥¸ í˜ì´ì§€ ë¡œë”©
- SEO ìµœì í™”

### FastAPI
- ë¹„ë™ê¸° ì§€ì›ìœ¼ë¡œ ë†’ì€ ì„±ëŠ¥
- ìë™ API ë¬¸ì„œ ìƒì„±
- Python ìƒíƒœê³„ í™œìš©

### Supabase
- PostgreSQL ê¸°ë°˜ ì˜¤í”ˆì†ŒìŠ¤
- pgvectorë¡œ ë²¡í„° ê²€ìƒ‰ ì§€ì›
- ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”

### OpenAI GPT-4
- ë†’ì€ ì •í™•ë„ì˜ ìì—°ì–´ ì´í•´
- Function Callingìœ¼ë¡œ êµ¬ì¡°í™”ëœ ì¶œë ¥
- RAGì™€ì˜ ì™„ë²½í•œ í†µí•©

---

## ğŸ“ˆ í–¥í›„ ê°œì„  ê³„íš

1. **ìºì‹± ì‹œìŠ¤í…œ**: Redis ë„ì…ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ
2. **ê²€ìƒ‰ ê³ ë„í™”**: Elasticsearch í†µí•©
3. **ì‹¤ì‹œê°„ ì•Œë¦¼**: WebSocket ì ìš©
4. **ëª¨ë°”ì¼ ì•±**: React Native ê°œë°œ
5. **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**: ì •ì±… ê´€ë¦¬ UI

---

## ğŸ“š ì°¸ê³  ë¬¸ì„œ

- [Next.js Documentation](https://nextjs.org/docs)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Supabase Documentation](https://supabase.com/docs)
- [OpenAI API Reference](https://platform.openai.com/docs)
- [pgvector GitHub](https://github.com/pgvector/pgvector)

---

**ì‘ì„±ì¼**: 2025-10-12
**ë²„ì „**: 1.0.0
**ì‘ì„±ì**: BabyPolicy Team
